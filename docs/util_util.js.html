<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: util/util.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: util/util.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Make sure each character is encoded into 3 digits
 * @param  {String|Integer} n String or Integer to be padded
 * @param  {Integer} w Desired length of String or Integer
 * @return {String}   Padded string
 */
function zeroPad(n, w){
    while(n.toString().length&lt;w) n = '0' + n;
    return n;
}

/**
 * Reduces array size by concatenating 3 digit integers into 15 digit integer strings
 * @param  {Array} nums Initial array of 3 digit integers or strings
 * @return {Array}      As many arrays as possible concatenated into integer strings of length 15
 */
function reduceArray(nums){
    var arr = [];
    var temp = '';
    for(var i=0; i &lt; nums.length; i++){
      temp += zeroPad(nums[i].toString(),3);
      if(temp.length > 14){
        arr.push(temp);
        temp = '';
      }
    }
    if(temp != ''){
      arr.push(temp)
    }
    return arr;
}

/**
 * Encodes string to array of base 10 integers to avoid rounding, based on:
 * https://stackoverflow.com/questions/21613942/encode-string-into-decimal-digits-javascript
 * @return {Integer} Array of encoded strings into integers with desired length 15 digits.
 */
export function toNumbers(s){
    var nums = [];
    for(var i=0; i&lt;s.length; i++) {
        nums.push(zeroPad(s.charCodeAt(i), 3));
    }
    return reduceArray(nums);
}

/**
 * Returns decoded string from array of base 10 integers
 * @param  {Array} nums Encoded integer array
 * @return {String}      String of decoded integers into characters
 */
export function fromNumbers(nums){
    var s = '';
    for(var i=0; i&lt;nums.length; i++){
        for(var j=0; j&lt;nums[i].toString().length; j+=3){
          s += String.fromCharCode(nums[i].toString().substring(j,j+3));
        }
    }
    return s;
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="UrlControllerPermanent.html">UrlControllerPermanent</a></li><li><a href="UrlControllerSession.html">UrlControllerSession</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fromNumbers">fromNumbers</a></li><li><a href="global.html#reduceArray">reduceArray</a></li><li><a href="global.html#toNumbers">toNumbers</a></li><li><a href="global.html#zeroPad">zeroPad</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Apr 16 2019 00:28:21 GMT+0200 (GMT+02:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
